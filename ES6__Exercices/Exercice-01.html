<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>JavaScript : Exercice 1</title>
		<script>
			/*********************************
			***********PRESENTATION***********
			**********************************

                Le mot-clé `var` est utilisé pour déclarer des variables à portée de FONCTION. Deux cas de figurent se présentent :
                    - la variable est dite LOCALE si elle déclarée à l'intérieur d'une fonction, auquel cas elle sera accessible partout à l'intérieur de cette fonction. Tenter d'accéder à cette variable en dehors de sa fonction déclenchera une erreur de type `ReferenceError`.
                    - la variable est dite GLOBALE si elle est déclarée en dehors de toute fonction, auquel cas elle deviendra une propriété de l'objet global `window` et sera accessible partout.

                Exemple de variables à portée de fonction :
                ES5---------------------------------------------------------
                var x = 10; // variable globale
                function changer() {
                var x = 5; // ici, la variable x est locale à la fonction
                var y = 2; // idem pour y
                console.log(x); // 5
                console.log(y); // 2
                }
                changer();
                console.log(x); // 10
                console.log(y); // ReferenceError
                ------------------------------------------------------------

                Deux nouveaux mots-clef en ES6 :
                Contrairement à `var`, les mots-clés `let` et `const` servent à déclarer des variables à portée de BLOC.

                Cela signifie qu'une variable déclarée avec `let` ou `const` :
                    - dans une boucle for, for...in, while, do...while, etc.
                    - dans un bloc de condition if...else
                    - dans un bloc try...catch
                    - dans un bloc étiqueté étiquette{ ... }
                ne sera accessible QU'À L'INTÉRIEUR DE CE BLOC.

                Toute variable déclarée avec `let` ou `const` ne PEUT PLUS être redéclarée.

                Une variable déclarée avec `const` ne peut plus être réassignée et doit être initialisée dès sa déclaration.

                Toute tentative d'accès à une variable de portée de bloc en dehors de son bloc de déclaration déclenchera une erreur de type `ReferenceError`.

                NOTE : Dans du code ES6, on privilégiera TOUJOURS la déclaration de variables avec une portée de BLOC (avec `let` et `const`), et autant que possible avec le mot-clé `const` lorsqu'une variable n'a pas besoin d'être réassignée. On s'assurera ainsi que nos variables ne sont accessibles qu'à l'intérieur de leur bloc de déclaration et on minimisera les risques d'effets indésirables.
            */

			/*********************************
			*************EXERCICE*************
			**********************************
			** 1 **
				Transformer le code suivant pour utiliser les mots-clés `let` et `const` à la place de `var`.
                Choisissez de déclarer vos variables constantes quand c'est possible dans chaque cas de figure.
            */
                // a.
                (function() {
                    let nom = "toto";

                    function direNom() {
                        const nom = "Alfred";
                        console.log(nom);
                    }
                    nom = "titi";
                    console.log(nom);
                })();

                // b.
                (function() {
                    let couleur = "bleu";

                    function changerCouleur(danger) {
                        if (danger) {
                            couleur = "rouge";
                        } else {
                            couleur = "vert";
                        }
                    }

                    changerCouleur(true);
                    console.log(couleur);
                })();

                // c.
                (function() {
                    const personnage = {
                        name: "Mario",
                        age: 30
                    };
                    personnage.vies = 5;
                    delete personnage.age;
                })();

                // e.
                (function() {
                    const NOMBRE_D_OR = (1 + Math.sqrt(5)) / 2;
                })();

			/*
			** 2 **
                Corrigez le code suivant.
            */
            (function() {
                let GRAVITY_ACCELERATION = 9.81;

                function reverseGravity() {
                    GRAVITY_ACCELERATION = -GRAVITY_ACCELERATION;
                }
            })();
		</script>
	</head>
	<body>
		<noscript>
			<p>Veuillez activer JavaScript</p>
		</noscript>
	</body>
</html>