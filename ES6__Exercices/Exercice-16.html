<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>JavaScript : Exercice 16</title>
		<script>
			/*********************************
			***********PRESENTATION***********
			**********************************
				En JavaScript il est possible de définir sur un objet ce que l'on appelle des accesseurs et mutateurs de propriétés (via les méthodes `Object.defineProperty()`, `Object.defineProperties()` et `Object.create()`).
				L'accès en lecture ou en écriture à ces propriétés provoque un appel respectivement à la fonction `get` et à la fonction `set` définies dans le descripteur de propriété associé.

				Exemple :

				ES5------------------------------------------------------------------------
				const obj = {};
				Object.defineProperty(obj, "réponseÀLaQuestionSecrèteDeLUnivers", {
					get: function() {
					console.log("Chut... ne le dites à personne !");
					return 42;
					},
					set: function(nouvelleValeur) {
					console.log("Personne ne change la réponse à la question secrète de l'Univers.")
					return;
					},
					enumerable: true,
					configurable: true
				});
				---------------------------------------------------------------------------

				Les classes ES6 offrent également une syntaxe simplifiée pour définir des accesseurs et mutateurs de propriétés sur les instances de la classe (avec `get` et `set`).

				Exemple en ES6 :

				ES6---------------------------------------------------------
				class Point {
					// Constructeur de la classe
					constructor(x, y) {
					this.x = x;
					this.y = y;
					}

					// Accesseur de propriété
					get norme() {
					return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));
					}

					// Mutateur de propriété
					set norme(nouvelleNorme) {
					if (this.norme === 0) {
						return;
					}
					this.x = this.x / this.norme * nouvelleNorme;
					this.y = this.y / this.norme * nouvelleNorme;
					}
				}

				const B = new Point(3, 4);
				B.norme; // 5
				------------------------------------------------------------

				Code équivalent en ES5 :
				
				ES5---------------------------------------------------------
				"use strict";
				var Point = (function () {
					// Constructeur de la classe
					function Point(x, y) {
					this.x = x;
					this.y = y;
					}

					// Accesseur de propriété
					Object.defineProperty(Point.prototype, "norme", {
					get: function() {
						return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));
					},
					set: function(nouvelleNorme) {
						if (this.norme === 0) {
						return;
						}
						this.x = this.x / this.norme * nouvelleNorme;
						this.y = this.y / this.norme * nouvelleNorme;
					},
					enumerable: true,
					configurable: true
					}):

					return Point;
				}());

				var B = new Point(3, 4);
				B.norme; // 5
				------------------------------------------------------------
			*/

			/*********************************
			*************EXERCICE*************
			**********************************
				Reprenez le code de l'exercice précédent.
				Nous allons ajouter à la classe Rectangle des propriétés numériques sous forme d'accesseur de propriété pour récupérer les coordonnées des segments du rectangle et nous éviter des calculs répétitifs. Appelez ces propriétés `haut`, `bas`, `gauche`, `droite`. Le bord gauche se calcule en partant du bord droit et en ajoutant la largeur du rectangle, et ainsi de suite.

        		Créez deux rectangles r1 et r2 comme précédemment et affichez dans la console les coordonnées de leurs 4 bords.
			*/
		</script>
	</head>
	<body>
		<h1>Mon nouveau document</h1>
		<p>Premier paragraphe</p>
		<p>Deuxième paragraphe</p>
		<noscript>
			<p>Veuillez activer JavaScript</p>
		</noscript>
	</body>
</html>